<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Lab 5 API example</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <!-- Bootstrap core CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

</head>

<body>
	
			<div class="container">


      <h1>Lab 5 - API Examples - Detail Page</h1>
      <p class="lead">This page demonstrates an API call to an individual API Standard record. </p>
	  
	  			<table id="location" class="table table-bordered table-striped">
	  
    <tr>
		<th>ID</TH>
		 <th>Name</th>
		 <th>Type</th>
		 <th>Category</th>
		 <th>Status</th>
		 <th>Deployment Type</th>
		 <th>Comments</th>
		 <th>Reference Documents</th>
		 <th>Approval Expiration Date</th>
		 <th>Description</th>
    </tr>
	  </table>
</div>
</section>

<!-- This script populates the data for the detailed record -->
<script>
function GetURLParameter(sParam)
{
    var sPageURL = window.location.search.substring(1);
    var sURLVariables = sPageURL.split('&');
    for (var i = 0; i < sURLVariables.length; i++) 
    {
        var sParameterName = sURLVariables[i].split('=');
        if (sParameterName[0] == sParam) 
        {
            return sParameterName[1];
        }
    }
}

var ID = GetURLParameter('ID');

$(document).ready(function(){

    $.ajax(
    {
        type: "GET",
		url: 'https://ea.gsa.gov/api/v0/itstandards/' +  ID,
        data: "{}",
        dataType: "json",
        cache: false,
        success: function (data) {
            
var trHTML = '';

$.each(data, function (i, item) {
    trHTML += '<tr><td>' 
	+ item.ID + '</td><td>' 
	+ item.Name + '</td><td>' 
	+ item.Type + '</td><td>' 
	+ item.Category + '</td><td>' 	
	+ item.Status + '</td><td>' 	
	+ item.DeploymentType + '</td><td>' 	
	+ item.Comments + '</td><td>' 	
	+ item.ReferenceDocuments + '</td><td>' 	
	+ item.ApprovalExpirationDate + '</td><td>' 
	+ item.Description + '</td></tr>';
});

$('#location').append(trHTML);
        
        },
        
        error: function (msg) {
            
            alert(msg.responseText);
        }
    });
})


</script>


</body>
</html>