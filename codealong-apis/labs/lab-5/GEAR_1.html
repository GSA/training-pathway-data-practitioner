<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Lab 5 API example</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <!-- Bootstrap core CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

</head>

<body>
    <section id="contents">
			<div class="container">


      <h1>Lab 5 - API Examples</h1>
      <p class="lead">This lab demonstrates calling the GEAR APIs. For more information on these APIs, visit <a href="https://dev.ea.gsa.gov/#!/siteoverview">https://dev.ea.gsa.gov/#!/siteoverview</A> </p>

      <h3>GSA API Standards</h3>
      <p>The GEAR team has built RESTful API services, accessible from within the GSA firewall, that provides authoritative data from the GEAR databases. These services power the GEAR web application, but can also be used by other processes or applications. All service are GET endpoints, and all responses are in JSON format.</p>
	  <P>The data below is populated from the GEAR APIs.</p>
	<p>Click on the link in the "ID" column to view details for a single IT Standard.</P>

			<table id="location" class="table table-bordered table-striped">

    <tr>
		<th>ID</TH>
		 <th>Name</th>
		 <th>Type</th>
		 <th>Category</th>
		 
    </tr>
</table>
</div>
</section>


<script>

var service = 'http://localhost/DistributedDataSystem/Service.svc/';

$(document).ready(function(){

    //jQuery.support.cors = true;

    $.ajax(
    {
        type: "GET",
		url: 'https://dev.ea.gsa.gov/api/v0/itstandards',
        data: "{}",
        dataType: "json",
        cache: false,
        success: function (data) {
            
var trHTML = '';

$.each(data, function (i, item) {
    trHTML += '<tr><td><a href="GEAR_2.html?ID=' + item.ID + '">' 
	+ item.ID + '</td><td>' 
	+ item.Name + '</td><td>' 
	+ item.Type + '</td><td>' 
	+ item.Category + '</td></tr>';
});

$('#location').append(trHTML);
        
        },
        
        error: function (msg) {
            
            alert(msg.responseText);
        }
    });
})

</script>